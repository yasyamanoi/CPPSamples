<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>C++サンプル集</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<header>
<div id="title_words">C++サンプル集</div>
</header>
<!-- コンテンツ　-->
<div id="contents">
<h1>【第1部】C言語（K＆R検証）編</h1>
<h1 class="pagetitle">００１９．シェルソートを実装する</h1>
<h4>ソース紹介</h4>
<div class="box1_title">CPPファイルに記述</div>
<div class="box1">
<pre>
#include &lt;iostream>
#include &lt;cstdio>
#include &lt;cstdlib>
#include &lt;ctime>
using namespace std;

/*
v[0] ... v[ n-1 ]を昇順にソート
*/
void shellsort(int v[], int n) {
    for (int gap = n / 2; gap > 0; gap /= 2) {
        for (int i = gap; i &lt; n; i++) {
            for (int j = i - gap; j >= 0 && v[j] > v[j + gap]; j -= gap) {
                int temp = v[j];
                v[j] = v[j + gap];
                v[j + gap] = temp;
            }
        }
    }
}


/*
シェルソートの検証
*/
int main()
{
    srand((unsigned int)time(NULL));
    int arr[100];
    cout &lt;&lt;  "ソート前" &lt;&lt; endl;
    for (auto& v : arr) {
        v = rand() % 100;
        cout &lt;&lt; v &lt;&lt; ",";
    }
    cout &lt;&lt; endl;
    shellsort(arr,100);
    cout &lt;&lt; "ソート後" &lt;&lt; endl;
    for (auto v : arr) {
        cout &lt;&lt; v &lt;&lt; ",";
    }
    cout &lt;&lt; endl;
    return 0;
}
</pre>
</div>
<div class="box1_title">出力</div>
<div class="box1">
<pre>
ソート前
54,4,60,13,67,78,24,66,76,28,53,91,59,34,69,7,9,32,8,61,
73,15,58,82,31,81,54,29,36,53,96,82,1,67,16,47,70,52,96,
60,36,94,30,49,0,31,23,17,98,43,59,69,62,58,23,62,26,2,
94,71,56,85,59,58,17,75,31,85,82,35,34,76,50,26,92,1,93,
0,12,35,24,45,33,59,80,55,4,3,71,26,57,36,20,76,44,7,91,79,38,67,
ソート後
0,0,1,1,2,3,4,4,7,7,8,9,12,13,15,16,17,17,20,23,23,24,24,
26,26,26,28,29,30,31,31,31,32,33,34,34,35,35,36,36,36,38,
43,44,45,47,49,50,52,53,53,54,54,55,56,57,58,58,58,59,59,
59,59,60,60,61,62,62,66,67,67,67,69,69,70,71,71,73,75,76,
76,76,78,79,80,81,82,82,82,85,85,91,91,92,93,94,94,96,96,98,

</pre>
</div>
　※数字間はブラウザの関係で改行が入ってますが、出力には改行は入りません。
<h4>サンプル説明</h4>
　シェルソートは、<b>ドナルド・シェル</b>という人が考えたソート法で<b>挿入ソート</b>の一種だそうです。離れた要素同士のソートをまず行い、そのあと近くの要素同士をソートする、という手法です。
<h4>K&Rでの記述</h4>
　元になったのは<b>第3章:制御の流れ</b>に記述されています。<b>ループ</b>の説明のところです。
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<footer>
<table>
<tr>
<td><a href="00_18.html">前へ</a></td>
<td><a href="index.html">目次</a></td>
<td><a href="00_20.html">次へ</a></td>
</tr>
</table>
</footer>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
