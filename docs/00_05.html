<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>C++サンプル集</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<header>
<div id="title_words">C++サンプル集</div>
</header>
<!-- コンテンツ　-->
<div id="contents">
<h1>【第1部】C言語（K＆R検証）編</h1>
<h1 class="pagetitle">０００５．行と単語のカウント</h1>
<h4>ソース紹介</h4>
<div class="box1_title">CPPファイルに記述</div>
<div class="box1">
<pre>
#include &lt;iostream>
#include &lt;cstdio>
using namespace std;

#define IN 1
#define OUT 0

int main()
{
    char c;
    int nl, nw, nc, state;
    state = OUT;
    nl = nw = nc = 0;
    while ((c = cin.get()) != EOF) {
        ++nc;
        if (c == '\n') {
            ++nl;
        }
        if (c == ' ' || c == '\n' || c == '\t') {
            state = OUT;
        }
        else if (state == OUT) {
            state = IN;
            ++nw;
        }
    }
    cout &lt;&lt; "行: " &lt;&lt; nl ;
    cout &lt;&lt; " 単語: " &lt;&lt; nw;
    cout &lt;&lt; " 文字: " &lt;&lt; nc &lt;&lt; endl;
    return 0;
}
</pre>
</div>
<div class="box1_title">出力</div>
<div class="box1">
<pre>
abcdefg
1234 890s       ooo
Agbd;&%Lswo
AAA BBB CCC DDD
^Z
行: 4 単語: 9 文字: 56
</pre>
</div>
<h4>サンプル説明</h4>
　このサンプルは<b>標準入力</b>に入力された文字を１つ１つ調べて、どういうグループに属するかを調べるサンプルです。<br />
　<b>単語</b>をカウントするために<b>IN</b>および<b>OUT</b>という指標を立ててます。<br />
　こういった<b>指標（フラグともいう）</b>の考え方は、このプログラムに限らず、どのシーンでも出てくるものです。<br />
　場合によっては<b>変数の各ビット</b>に対して<b>指標</b>を立て、<b>状態</b>をデータ化する場合もあります。<br />
　アルゴリズムの基本ともいうべきテクニックかと思います。
<h4>K&Rでの記述</h4>
　元になったのは<b>第1章:やさしい入門</b>に記述されています。<b>単語のカウント</b>の説明のところです。
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<footer>
<table>
<tr>
<td><a href="00_04.html">前へ</a></td>
<td><a href="index.html">目次</a></td>
<td><a href="00_06.html">次へ</a></td>
</tr>
</table>
</footer>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
