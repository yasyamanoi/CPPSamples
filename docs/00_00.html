<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>C++サンプル集</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<header>
<div id="title_words">C++サンプル集</div>
</header>
<!-- contents　-->
<div id="contents">
<h1 class="pagetitle">このドキュメントについて</h1>
<h4>なぜこのドキュメントを書くのか</h4>
　かねてより僕は、自分が、C/C++で学んできたことをまとめる意味で<b>C++サンプル集</b>をドキュメント化したいと思っていました。<br />
　そういうドキュメントを持っておくと、何かアイディアに詰まったとき、あるいは、あるアルゴリズムを忘れてしまったときなど、自分のためにもあると便利です。<br />
　そうした際、<b>どのようなサンプル有用か</b>という問題が出てきます。<br />
　プリミティブな内容が含まれ、言語の本質に触れることができるサンプルとはどんなサンプルか。難しい問題です。<br />
　ところで、C言語の教科書ともいうべき名著に<b>プログラミング言語C（共立出版）</b>という本があります。<br />
　<b>K&R</b>という愛称で知られるこの本は、素晴らしい本なのですが、C言語が、C++とまじりあい、C/C++という表現が一般化してきた現在（2019年）、その内容が若干古くなりつつあります。<br />
　しかしながら、<b>K&R</b>で紹介されているプログラムの数々は、現在も現役であり、特にアルゴリズムの学習には最適です。であれば、<b>K&R</b>に記述されている内容を<b>C++</b>で記述するのはどうか、と思いつきました。<br />
　ただ<b>K&R</b>はC言語の教科書ですから、C++的な部分（オブジェクト指向、例外処理、テンプレート）などは含まれません。<br />
　ここいらは別途、何かのC++向きなサンプルを実装する必要があると思います。<br />
　ということで、このドキュメントは大きく3部に分かれます。<br />
　第1部は、<b>K&R</b>に述べられているサンプルの一部を<b>C++</b>で書き直したものです。<br />
　<b>K&R</b>をよく読むと、この本は<b>標準ライブラリをどう作るか</b>という内容であることがわかります。著者である<b>カーニハン＆リッチー</b>両氏が、実際にC言語のコンパイラ作成に深くかかわっていたこともその理由と思われます。<br />
　それを<b>C++</b>で記述するにあたって、低い部分もそうですが、<b>STL</b>を使ってどう簡略化するか、なども行っています。<br />
　ただ、このドキュメントには、元になる<b>K&R</b>のソースは含まれません。ぜひ<b>K&R</b>を購入して、比べてみていただくと良いと思います。<br />
　第2部は、C++のサンプル集の予定です。基本はC++のオブジェクト指向をうまく表現できるように、<b>listやmap、あるいはarray（STLではvector）</b>のミニマム版を自作してみたいと思います。<br />
　これらは<b>STL</b>にコンテナとして実装されているものですが、あえて、自作することで、中に詰まっているアルゴリズムを再認識することができます。<br />
　また、汎用なアルゴリズム（ソートや2分岐、検索など）や、メモリプール作成、なども、すぐに手が届くところにあると便利ですね。<br />
　あと<b>デザインパターン（GoF）</b>は有名ですが、その中でもよく使うもの、あるいは<b>GoF</b>に入ってなくても、1つのパターンとして使えるものがあると便利です。<br />
　そんな感じで、書き進めたいと思います。<br />
　GitHubに公開しますが、まだまだ道半ばです。お読みの方がいらっしゃいましたら、長い目で見てやってください。<br />
<br />
<div class="right">山ノ井靖（有限会社山ノ井商事）<br />
E-mail: yasyama@gmail.com</div>

<h4>準備</h4>
　皆さんが、現在使っているパソコンの中には<b>VisualStudio2019</b>がセットアップされていると仮定します。もしセットアップがまだの場合は、<a href="https://www.microsoft.com/ja-jp/dev/products/community.aspx" target="_blank">VisualStudioCommunityサイト</a>から、ダウンロードしてください。<br />
　そして<b>新規プロジェクト</b>で<b>VC++コンソールアプリ</b>のソリューションを作成してください。64ビット環境を想定しています。ですから<b>size_tが64ビット</b>になります。<br />
　このドキュメントのサンプルは、すべて<b>VisualStudio2019</b>で作成されています。<br />
　ですが、ほとんどのサンプルは<b>1ファイル</b>で完結するものです。そういったものは、ドキュメントに記述されているソースコードに
<div class="box1_title">CPPファイルに記述</div>
<div class="box1">
<pre>
#include &lt;iostream>

int main()
{
    std::cout << "Hello World!\n";
}
</pre>
</div>
　と書いてありますので、そのままコピペで実装できます。<br />
　しかし、複数のソースファイルにまたがる場合は
<div class="box1_title">Sample0001</div>
<div class="box1_filename">function.h</div>
<div class="box1">
<pre>
void func();
</pre>
</div>
<div class="box1_filename">function.cpp</div>
<div class="box1">
<pre>
#include &lt;iostream>
#include "function.h"
void func(){
    //コード内容
}
</pre>
</div>
<div class="box1_filename">main.cpp</div>
<div class="box1">
<pre>
#include &lt;iostream>
#include "function.h"

int main()
{
    //コード内容
    func();
}
</pre>
</div>
　のように記述します。この場合は<b>projects/Sample0001</b>にサンプルのソリューションがあり、<b>function.h</b>などの複数のファイルがそのプロジェクトに含まれることを意味します。<b>ファイル-新規ファイル</b>で追加できますが、サンプルをそのまま開くことも出きます。<br />
　もし<b>VisualStudio2019以降</b>を新たにセットアップされている場合は（将来の話ですが）、ソリューション読み込みの際に、プロジェクトのバージョンを、<b>最新のものに変更するか</b>を聞いてくると思いますので、そこは<b>はい（yes）</b>で変更していただいて大丈夫と思われます。<br />
<h4>参考文献</h4>
プログラミング言語C第2版（K&R）、カーニハン&リッチー著、共立出版<br />
プログラミング言語C++第4版（C++D4）、ビャーネ・ストラウストラップ著、SBクリエイティブ<br />
※<b>C++D4</b>という書籍の略称は本ドキュメントのみで使用されています。
</div>
<!-- /contents　-->
<!-- フッタ　-->
<footer>
<table>
<tr>
<td><a href="index.html">目次</a></td>
<td><a href="00_01.html">次へ</a></td>
</tr>
</table>
</footer>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
