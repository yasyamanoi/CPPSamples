<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>C++サンプル集</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<header>
<div id="title_words">C++サンプル集</div>
</header>
<!-- コンテンツ　-->
<div id="contents">
<h1>【第1部】C言語（K＆R移植）編</h1>
<h1 class="pagetitle">０００７．累乗（るいじょう）関数をテストする</h1>
<div class="box1_title">CPPファイルに記述</div>
<div class="box1">
<pre>
#include &lt;iostream>
#include &lt;cstdio>
using namespace std;

/*
base を n乗 する。ただし n >= 0
*/
int power(int base, int n) {
    int p;
    for (p = 1; n > 0; --n) {
        p = p * base;
    }
    return p;
}

/*
累乗（るいじょう）関数をテストする
*/
int main()
{
    for (int i = 0; i &lt; 10; ++i) {
        cout &lt;&lt; i &lt;&lt; '\t';
        cout &lt;&lt; power(2, i) &lt;&lt; '\t';
        cout &lt;&lt; power(-3, i) &lt;&lt; endl;
    }
    return 0;
}
</pre>
</div>
<div class="box1_title">出力</div>
<div class="box1">
<pre>
0       1       1
1       2       -3
2       4       9
3       8       -27
4       16      81
5       32      -243
6       64      729
7       128     -2187
8       256     6561
9       512     -19683
</pre>
</div>
<h4>サンプル説明</h4>
　<b>K&R</b>には<b>べき乗</b>を計算する関数が複数紹介されてますが、今回はその<b>forループ</b>を使った関数を元にしています。<br />　<b>C/C++言語</b>の関数呼び出しは<b>値呼び出し</b>です。<br />
　つまり呼び出し元が呼び出す関数に引数を渡すにあたって、呼び出される側は<b>引数のコピー</b>を作り出して、操作（処理）をします。そのため<b>呼び出し側</b>の変数は、呼び出した後もその内容が変わりません。<br />
　今回のサンプルでは、呼ばれた側<b>power()関数</b>が、引数そのもの<b>int n</b>を変更しています。しかし、コピーが渡されているので、呼び出し側<b>main()関数</b>の<b>int i</b>が影響を受けることはありません。
<div class="box1">
<pre>
    for (p = 1; n > 0; --n) {
        p = p * base;
    }
</pre>
</div>
　で確認できます。<br />
　このことを使って<b>再帰処理</b>を行うこともできます。<br />
　しかし、明示的に<b>ポインタもしくは参照</b>を渡すと、呼び出された側が、その内容を変更することが可能となります。
<h4>K&Rでの記述</h4>
　元になったのは<b>第1章:やさしい入門</b>に記述されています。<b>引数－値による呼び出し</b>の説明のところです。
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<footer>
<table>
<tr>
<td><a href="00_06.html">前へ</a></td>
<td><a href="index.html">目次</a></td>
<td><a href="00_08.html">次へ</a></td>
</tr>
</table>
</footer>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
